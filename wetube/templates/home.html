{% extends 'base.html' %}
{% load django_bootstrap5 %}

{% block title %}
  Home page
{% endblock %}

{% block content %}
<script src="https://kit.fontawesome.com/2cd012f75a.js" crossorigin="anonymous"></script>

  <center>


    {% for post in posts %}
    
    <div calss='container'>
      <div class="avtor">
        <small class='author'>{{ post.author }}</small>
        <small>{{ post.created }}</small>
</div>
      <div class="icons">
      {% if post.author.id == request.user.id %}
        <a class="update" href="{% url 'update_post' post.id %}"><i class="fas fa-edit"></i></a>
        <a class="delete" href="#" onclick="confirm()"><i class="fa fa-trash" aria-hidden="true"></i></a>
      {% endif %}
      <a class="view" href="{% url 'post_details' post.id %}"><i class="fa-solid fa-eye"></i></a>
    </div>
      <h2>{{ post.title|upper }}</h2>
      <p>{{ post.content }}</p>
    </div>
      {% endfor %}
    
    </center>
  <style>
    *{
      color: black;
      font-family: 'Gilroy';
    }
    .view{
      position: relative;
      left: 45%;
    }
    .delete{
      position: relative;
      left: 45%;
    }
    .update{
      position: relative;
      left: 45%;
    }

    small{
      font-size: 8px;
      color: gray;
    }
    .avtor{
display: flex;
align-items: center;
gap: 10px;
padding: 5px;
    }
    [class='author']{
      font-size: 13px;
      color: #427877;

    }
    [calss='container']{
      display: flex;
      flex-direction: column;
    justify-content: center;
      text-align: center;
      background: #dedede;
      padding: auto;
      width: 50%;
      margin-bottom: 5%;
      border-radius: 10px;
      border-style: solid;
      border-color: skyblue;
      border-width: 4px;
  
    }
    h2{
      justify-content: center;
    }
    p{
      line-height: 40px;
      width: 100%;
    }

  </style>
{% endblock %}
{% block script %}

function confirm(){
  let result = confirm("Are you sure to delete the post?");
  if(result ){
    location.href = "{% url 'delete_post' post.id %}";
}
}

{% endblock script %}

